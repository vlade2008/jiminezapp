(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){e.exports=a.p+"static/media/print.01e0a9e7.png"},227:function(e,t,a){e.exports=a(450)},371:function(e,t){},373:function(e,t){},448:function(e,t,a){},450:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(7),o=a(151),c=a(91),l=a(55),s=a(208),u=a(209),h=a.n(u),d=a(35),m={count:0,isIncrementing:!1,isDecrementing:!1},p=Object(l.c)({counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;switch((arguments.length>1?arguments[1]:void 0).type){case"counter/INCREMENT_REQUESTED":return Object(d.a)({},e,{isIncrementing:!0});case"counter/INCREMENT":return Object(d.a)({},e,{count:e.count+1,isIncrementing:!e.isIncrementing});case"counter/DECREMENT_REQUESTED":return Object(d.a)({},e,{isDecrementing:!0});case"counter/DECREMENT":return Object(d.a)({},e,{count:e.count-1,isDecrementing:!e.isDecrementing});default:return e}}}),f=h()(),E=[s.a,Object(c.routerMiddleware)(f)],g=l.d.apply(void 0,[l.a.apply(void 0,E)].concat([])),v=Object(l.e)(Object(c.connectRouter)(f)(p),{},g),b=a(455),y=a(456),C=a(40),O=a(22),P=a(23),S=a(26),k=a(24),w=a(27),j=a(460),M=a(89),R=a(452),L=a(462),A=a(389),T=a(390),D=a(461),I=a(453),N=a(457),W=a(454),B=a(9),H=a.n(B),x=a(76),z=a.n(x),Y=a(32),V=a.n(Y),F=a(458),U=a(459),J=F.a.Item,G=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(S.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(i)))).onSumbitVal=function(){var e=a.props.activeRecord.name;V.a.isEmpty(e)?j.a.error({title:"Please Fill up patient name",content:"Error"}):a.props.onSubmit()},a}return Object(w.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCloseModal;return i.a.createElement(j.a,{title:this.props.activeRecord.id?"Edit Patient":"New Patient",visible:a,onCancel:n,footer:[i.a.createElement(M.a,{key:"back",onClick:n},"Return"),i.a.createElement(M.a,{key:"submit",type:"primary",onClick:this.onSumbitVal},"Submit")]},i.a.createElement(F.a,{layout:"horizontal"},i.a.createElement(J,{label:"Name"},i.a.createElement(D.a,{value:this.props.activeRecord.name,onChange:function(t){return e.props.handleChange("name",t.target.value)}})),i.a.createElement(J,{label:"Address"},i.a.createElement(D.a,{value:this.props.activeRecord.address,onChange:function(t){return e.props.handleChange("address",t.target.value)}})),i.a.createElement(J,{label:"Weight"},i.a.createElement(D.a,{value:this.props.activeRecord.weight,onChange:function(t){return e.props.handleChange("weight",t.target.value)}})),i.a.createElement(J,{label:"Contact Number"},i.a.createElement(D.a,{value:this.props.activeRecord.contact_number,onChange:function(t){return e.props.handleChange("contact_number",t.target.value)}})),i.a.createElement(J,{label:"PF"},i.a.createElement(D.a,{value:this.props.activeRecord.pf,onChange:function(t){return e.props.handleChange("pf",t.target.value)}})),i.a.createElement(J,{label:"PF Philhealth"},i.a.createElement(D.a,{value:this.props.activeRecord.pf_philhealth,onChange:function(t){return e.props.handleChange("pf_philhealth",t.target.value)}})),i.a.createElement(J,{label:"Birthdate"},i.a.createElement(U.a,{format:"YYYY-MM-DD",value:this.props.activeRecord.birthdate?H()(this.props.activeRecord.birthdate):H()(),onChange:function(t,a){return e.props.handleChange("birthdate",t)}}))))}}]),t}(i.a.Component),$=a(216),Q=a.n($),q=a(217).httpsOverHttp({proxy:{host:"http://localhost",port:8080}}),K=function(){var e=Q.a.create({httpsAgent:q,proxy:!1,timeout:1e3,headers:{"Content-Type":"application/json;charset=UTF-8"}});return e},X=function(e,t){return K().get(e,t)},Z=function(e,t,a){return K().post(e,t||{},a)},ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Z("/patients/getSearch",{name:e}).then(function(e){t(e)}).catch(function(e){console.log("getPatientList",e)})},te=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Z("/patients/getSearchPf",{pf_has:e,pf_philhealth_has:t}).then(function(e){a(e)}).catch(function(e){console.log("getSearchPatientPf",e)})},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;X("/patients/".concat(e,"/getPatientView")).then(function(e){t(e)}).catch(function(e){console.log("getPatientList",e)})},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;X("/patients/get").then(function(t){e(t)}).catch(function(e){console.log("getPatientList",e)})},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.id?(e.fee=!V.a.isEmpty(e.pf)||!V.a.isEmpty(e.pf_philhealth),Z("/patients/update",e).then(function(e){j.a.success({title:"Patient Update",content:"Success"}),t(e)}).catch(function(e){j.a.error({title:"Patient Error",content:"Error"}),console.log("updatePatient",e)})):(e.pf_has=!1,e.pf_philhealth_has=!1,e.birthdate=e.birthdate?e.birthdate:H()(),e.fee=!V.a.isEmpty(e.pf)||!V.a.isEmpty(e.pf_philhealth),Z("/patients/create",e).then(function(e){j.a.success({title:"Patient Create",content:"Success"}),t(e)}).catch(function(e){j.a.error({title:"Patient Error",content:"Error"}),console.log("createPatient",e)}))},re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;X("/patients/".concat(e,"/destroy")).then(function(e){j.a.success({title:"Patient Delete",content:"Success"}),t(e)}).catch(function(e){console.log("getPatientList",e)})},oe=j.a.confirm,ce=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(S.a)(this,Object(k.a)(t).call(this,e))).onClearFilter=function(){te(!1,!1,function(e){a.setState({patientList:e.data,isPfPhilhealth:!1,isPf:!1})})},a.fetchPatientListPf=function(e){var t=e,n=a.state.isPfPhilhealth;te(t,n,function(t){a.setState({patientList:t.data,isPf:e})})},a.fetchPatientListPfPhilhealth=function(e){var t=a.state.isPf;te(t,e,function(t){a.setState({patientList:t.data,isPfPhilhealth:e})})},a.fetchPatientList=function(){ne(function(e){a.setState({patientList:e.data||[],activeRecord:{},isPf:!1,isPfPhilhealth:!1,show:!1})})},a.onSearchPatientList=function(e){a.setState({searchPatient:e},function(){ee(e,function(e){a.setState({patientList:e.data})})})},a.onHandleShow=function(e){if(e){var t=a.state.isPf,n=a.state.isPfPhilhealth;te(t,n,function(t){a.setState({patientList:t.data,show:e})})}else a.fetchPatientList()},a.onPatientView=function(e){return function(){a.props.history.push("/patient/".concat(e.id))}},a.onCloseModal=function(){a.setState({isPatientModal:!1})},a.onOpenModal=function(){a.setState({isPatientModal:!0,activeRecord:{}})},a.handleChange=function(e,t){var n=Object(C.a)({},e,t),i=z()(a.state.activeRecord,{$merge:n});a.setState({activeRecord:i})},a.onSettings=function(){a.props.history.push("/settings")},a.onHandleEdit=function(e){return function(){a.setState({activeRecord:Object(d.a)({},e),isPatientModal:!0})}},a.onHasPf=function(e,t){return function(){var n=V.a.clone(e);n.pf_has=t,ie(n,function(e){a.fetchPatientList()})}},a.onHasPfPhilhealth=function(e,t){return function(){var n=V.a.clone(e);n.pf_philhealth_has=t,ie(n,function(e){a.fetchPatientList()})}},a.onHandleDelete=function(e){return function(){oe({title:"Do you Want to delete these patient?",content:e.name,onOk:function(){var t=this;re(e.id,function(){t.fetchPatientList()})},onCancel:function(){console.log("Cancel")}})}},a.onSubmit=function(){var e=a.state.activeRecord;ie(e,function(e){a.fetchPatientList(),a.onCloseModal()})},a.state={isPatientModal:!1,patientList:[],activeRecord:{},searchPatient:"",isPf:!1,isPfPhilhealth:!1,show:!1},a.onSearchPatientList=V.a.debounce(a.onSearchPatientList,100),a}return Object(w.a)(t,e),Object(P.a)(t,[{key:"componentWillMount",value:function(){this.fetchPatientList()}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Address",dataIndex:"address",key:"address"},{title:"Birthdate (YYYY-MM-DD)",key:"birthdate",render:function(e,t){return i.a.createElement("span",null,H()(t.birthdate).format("YYYY-MM-DD"))}},{title:"Contact Number",key:"contact_number",dataIndex:"contact_number"},{title:"Professional fees",key:"pf",render:function(t,a){return i.a.createElement("span",null,V.a.isEmpty(a.pf)?null:a.pf_has?i.a.createElement(M.a,{onClick:e.onHasPf(a,!1),style:{backgroundColor:"#87d068",color:"white"}}," PAID"):i.a.createElement(M.a,{onClick:e.onHasPf(a,!0),style:{backgroundColor:"#f50",color:"white"}}," NOT PAID"),i.a.createElement(R.a,{type:"vertical"}),a.pf?i.a.createElement("span",{style:{fontWeight:"bold"}},"\u20b1",a.pf):"\u20b10")}},{title:"Professional fees PhilHealth",key:"pf_health",render:function(t,a){return i.a.createElement("span",null,i.a.createElement("span",null,V.a.isEmpty(a.pf_philhealth)?null:a.pf_philhealth_has?i.a.createElement(M.a,{onClick:e.onHasPfPhilhealth(a,!1),style:{backgroundColor:"#87d068",color:"white"}}," PAID"):i.a.createElement(M.a,{onClick:e.onHasPfPhilhealth(a,!0),style:{backgroundColor:"#f50",color:"white"}}," NOT PAID"),i.a.createElement(R.a,{type:"vertical"}),a.pf_philhealth?i.a.createElement("span",{style:{fontWeight:"bold"}},"\u20b1",a.pf_philhealth):"\u20b10"))}},{title:"Action",key:"action",render:function(t,a){return i.a.createElement("span",null,i.a.createElement("a",{onClick:e.onHandleEdit(a)},"Edit"),i.a.createElement(R.a,{type:"vertical"}),i.a.createElement("a",{onClick:e.onHandleDelete(a)},"Delete"),i.a.createElement(R.a,{type:"vertical"}),i.a.createElement("a",{onClick:e.onPatientView(a)},"View"))}}],a=this.state.patientList.map(function(e,t){return e.key=t,e});return i.a.createElement(L.a,{title:i.a.createElement("h1",null,"Patient List"),extra:i.a.createElement(M.a,{onClick:this.onSettings},"Settings")},i.a.createElement(A.a,{type:"flex",justify:"start"},i.a.createElement(T.a,{span:7},i.a.createElement(D.a,{style:{width:300,marginBottom:20},placeholder:"Seach Name Patient",value:this.state.searchPatient,onChange:function(t){e.onSearchPatientList(t.target.value)}}),i.a.createElement(M.a,{onClick:this.onOpenModal,type:"primary"},"New Patient")),i.a.createElement(T.a,{span:10},i.a.createElement("span",{style:{fontWeight:"bold"}},"Show Not Paid",i.a.createElement(I.a,{style:{marginLeft:10},checkedChildren:"SHOW",unCheckedChildren:"NOT SHOW",checked:this.state.show,onChange:function(t){return e.onHandleShow(t)}})),this.state.show?i.a.createElement(L.a,null,i.a.createElement("span",{style:{fontWeight:"bold"}},"PF",i.a.createElement(I.a,{style:{marginLeft:10},checkedChildren:"PAID",unCheckedChildren:"NOT PAID",checked:this.state.isPf,onChange:function(t){return e.fetchPatientListPf(t)}})),i.a.createElement("span",{style:{marginLeft:20,marginRight:20,fontWeight:"bold"}},"PF PHILHEALTH",i.a.createElement(I.a,{style:{marginLeft:10},checkedChildren:"PAID",unCheckedChildren:"NOT PAID",checked:this.state.isPfPhilhealth,onChange:function(t){return e.fetchPatientListPfPhilhealth(t)}})),i.a.createElement(M.a,{onClick:this.onClearFilter},"Clear Filter")):null)),i.a.createElement(N.a,{columns:t,dataSource:a}),this.state.isPatientModal?i.a.createElement(G,Object.assign({handleChange:this.handleChange,visible:this.state.isPatientModal,onCloseModal:this.onCloseModal,onSubmit:this.onSubmit},this.state)):null)}}]),t}(i.a.Component),le=Object(W.a)(ce),se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.id||Z("/orders/create",e).then(function(e){j.a.success({title:"Order Create",content:"Success"}),t(e)}).catch(function(e){j.a.error({title:"Order Error",content:"Error"}),console.log("createOrder",e)})},ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;X("/orders/".concat(e,"/getOrder")).then(function(e){t(e)}).catch(function(e){console.log("getOrderView",e)})},he=a(205),de=a(12),me=["L","cc","mL","tab","sachet","Tbsp","tsp","fl oz","pt","gal","mcg","mg","gm","kg","oz","lbs"],pe=["Tablet","Sachets","Bottle","Caps"],fe=(he.a.Option,F.a.Item),Ee=(D.a.TextArea,function(e){function t(){return Object(O.a)(this,t),Object(S.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this,t=this.props.activeRecord,a=t.take,n=t.sig,r=t.selectmedicine;return i.a.createElement(F.a,{layout:"inline"},i.a.createElement(fe,{help:"Take"},i.a.createElement(D.a,{style:{width:50},value:a,onChange:function(t){return e.props.handleChange("take",t.target.value)}})),i.a.createElement(fe,{help:"sig"},i.a.createElement(D.a,{style:{width:400},value:n||"",onChange:function(t){return e.props.handleChange("sig",t.target.value)}})),i.a.createElement("br",null),r?i.a.createElement(M.a,{onClick:this.props.onAddOrder,type:"primary"},"+Insert"):null)}}]),t}(i.a.Component)),ge=he.a.Option,ve=F.a.Item,be=(D.a.TextArea,i.a.Component,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;X("/medicines/get").then(function(t){e(t)}).catch(function(e){console.log("getMedicineList",e)})}),ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.id?Z("/medicines/update",e).then(function(e){j.a.success({title:"Medicine Update",content:"Success"}),t(e)}).catch(function(e){j.a.error({title:"Medicine Error",content:"Error"}),console.log("updateMedicine",e)}):Z("/medicines/create",e).then(function(e){j.a.success({title:"Medicine Create",content:"Success"}),t(e)}).catch(function(e){j.a.error({title:"Medicine Error",content:"Error"}),console.log("createMedicine",e)})},Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;X("/medicines/".concat(e,"/destroy")).then(function(e){j.a.success({title:"Medicine Delete",content:"Success"}),t(e)}).catch(function(e){console.log("deleteMedicine",e)})},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;X("/templates/get").then(function(t){e(t)}).catch(function(e){console.log("getTemplateList",e)})},Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.id?Z("/templates/update",e).then(function(e){j.a.success({title:"Template Update",content:"Success"}),t(e)}).catch(function(e){j.a.error({title:"Template Error",content:"Error"}),console.log("updateTemplate",e)}):Z("/templates/create",e).then(function(e){j.a.success({title:"Template Create",content:"Success"}),t(e)}).catch(function(e){j.a.error({title:"Template Error",content:"Error"}),console.log("createTemplate",e)})},Se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;X("/templates/".concat(e,"/destroy")).then(function(e){j.a.success({title:"Template Delete",content:"Success"}),t(e)}).catch(function(e){console.log("deleteTemplate",e)})},ke=a(119),we=a.n(ke),je=he.a.Option,Me=F.a.Item,Re=D.a.TextArea,Le=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(S.a)(this,Object(k.a)(t).call(this,e))).fetchMedicineList=function(){be(function(e){a.setState({medicineList:e.data||[]})})},a.fetchTemplateList=function(){Oe(function(e){a.setState({templateList:e.data||[]})})},a.onPredictiveMedication=function(e){var t=V.a.findIndex(a.state.medicineList,{name:e});if(-1!=t){var n=V.a.clone(a.state.medicineList[t]);delete n.name,n.selectmedicine=e,a.setState({activeRecord:Object(d.a)({},n)})}else a.setState({activeRecord:{selectmedicine:e}})},a.handleChange=function(e,t){if("selectmedicine"===e)a.onPredictiveMedication(t);else{var n=Object(C.a)({},e,t),i=z()(a.state.activeRecord,{$merge:n});a.setState({activeRecord:i})}},a.handleChangeOrder=function(e,t){a.setState(Object(C.a)({},e,t))},a.onTablet=function(){a.setState({tablet:!0,ivfluid:!1})},a.onIVfluid=function(){a.setState({tablet:!1,ivfluid:!0})},a.onAddOrder=function(){var e=a.state.order,t=a.state.activeRecord,n=t.take,i=t.sig,r=t.selectmedicine,o=t.form_unit,c=t.dispense,l=t.brandname,s=c?"#".concat(c):"",u="".concat(r||""," \n  (").concat(l||"Brand Name",") ").concat(o||"").concat(s||""," \n  Sig. Take ").concat(n||""," ").concat(i||""),h=e?"".concat(e," \n ").concat(u):u;a.setState({order:h,activeRecord:{}})},a.printAndOrder=function(){var e=a.state.orderArray,t={order:JSON.stringify({orderArray:e}),dateOrder:H()()};a.props.onSumbitOrder(t),a.setState({activeRecord:{},order:""})},a.addTemplateOrder=function(e){return function(){var t=a.state.order,n="".concat(e),i="".concat(t," \n ").concat(n);a.setState({order:i,activeRecord:{}})}},a.addOrder=function(){var e=a.state,t=e.orderArray,n=e.order,i=V.a.clone(t);i.push(n),a.setState({orderArray:i,order:"",activeRecord:{}})},a.onRemove=function(e){return function(){var t=V.a.clone(a.state.orderArray),n=V.a.filter(t,function(t){if(t!==e)return t});a.setState({orderArray:n})}},a.state={orderArray:[],order:"",ivfluid:!1,tablet:!0,activeRecord:{},medicineList:[],templateList:[]},a}return Object(w.a)(t,e),Object(P.a)(t,[{key:"componentWillMount",value:function(){this.fetchMedicineList(),this.fetchTemplateList()}},{key:"render",value:function(){var e=this,t=this.props.patientBasicInfo,a=t.name,n=t.address,r=t.birthdate,o=(t.contact_number,t.weight),c=H.a.duration(H()().diff(r));return i.a.createElement(L.a,null,i.a.createElement(A.a,null,i.a.createElement(T.a,{span:10},"Medicine",i.a.createElement("br",null),i.a.createElement(he.a,{value:this.state.activeRecord.selectmedicine||"",showSearch:!0,style:{width:500,marginBottom:10},placeholder:"Select a medicine",onChange:function(t){return e.handleChange("selectmedicine",t)}},this.state.medicineList.map(function(e,t){return i.a.createElement(je,{key:t,value:e.name},e.name)})),i.a.createElement("br",null),this.state.activeRecord.selectmedicine?i.a.createElement(F.a,{layout:"inline"},i.a.createElement(Me,{help:"Brand Name"},i.a.createElement(D.a,{style:{width:150,marginLeft:5},value:this.state.activeRecord.brandname||"",onChange:function(t){return e.handleChange("brandname",t.target.value)}})),i.a.createElement(Me,{help:"Form/Unit"},i.a.createElement(he.a,{value:this.state.activeRecord.form_unit||"",showSearch:!0,style:{width:150},onChange:function(t){return e.handleChange("form_unit",t)}},pe.map(function(e){return i.a.createElement(je,{key:e,value:e},e)}))),i.a.createElement(Me,{help:"Dispense"},i.a.createElement(D.a,{style:{width:50,marginLeft:5},value:this.state.activeRecord.dispense||"",onChange:function(t){return e.handleChange("dispense",t.target.value)}}))):null,this.state.activeRecord.selectmedicine?i.a.createElement(Ee,Object.assign({onAddOrder:this.onAddOrder,handleChange:this.handleChange},this.state)):null,i.a.createElement("br",null),i.a.createElement("h2",null,"Order"),i.a.createElement(Re,{style:{width:500,marginTop:10},rows:10,value:this.state.order,onChange:function(t){return e.handleChangeOrder("order",t.target.value)}}),i.a.createElement("br",null),i.a.createElement("br",null),this.state.order?i.a.createElement(M.a,{type:"primary",onClick:this.addOrder}," Add Order"):null),i.a.createElement(T.a,{span:14},V.a.isEmpty(this.state.orderArray)?null:i.a.createElement(M.a,{type:"primary",onClick:this.printAndOrder}," PRINT AND SUBMIT ORDER"),i.a.createElement("div",{style:{position:"relative",height:800}},i.a.createElement("img",{src:we.a,style:{position:"absolute",width:650,height:800,left:0,right:0}}),i.a.createElement("div",{style:{marginLeft:80,marginTop:200,position:"absolute",width:650}},i.a.createElement(A.a,null,i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:16,marginBottom:0,fontWeight:"bold"}},"Patient: ",a)),i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:16,fontWeight:"bold",textAlign:"left",marginBottom:0}},"Age: ",function(e){var t=e.years(),a=e.months(),n=e.days(),i="";return 1===t?i+="one year ":t>1&&(i+=t+" years "),1===a?i+="one month ":a>1&&(i+=a+" months "),1===n?i+="one day ":n>1&&(i+=n+" days "),i}(c)))),i.a.createElement(A.a,null,i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:16,fontWeight:"bold",marginBottom:0}},"Address: ",n)),i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:16,fontWeight:"bold",textAlign:"left",marginBottom:0}},"Date: ",H()().format("YYYY-MM-DD"))),i.a.createElement(T.a,{span:12}),i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:16,fontWeight:"bold"}},"Weight: ",o))),i.a.createElement("div",{style:{marginTop:70,width:500,marginLeft:20}},i.a.createElement(A.a,null,i.a.createElement(T.a,{span:24},this.state.orderArray.map(function(t,a){return i.a.createElement("pre",{key:a,style:{fontSize:12,marginBottom:0,fontWeight:"bold",whiteSpace:"pre-wrap"}},i.a.createElement("a",{onClick:e.onRemove(t)},i.a.createElement(de.a,{type:"close",style:{fontSize:15}}))," ",a+1,". ",t)})))))))))}}]),t}(i.a.Component),Ae=Object(W.a)(Le),Te=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(S.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(i)))).state={isOrder:!1,activeRecord:{}},a.fetchPatientView=function(){var e=a.props.match.params.id;ae(e,function(e){a.setState({activeRecord:Object(d.a)({},e.data[0],{isOrder:!1})})})},a.onNewOrderView=function(){a.setState({isOrder:!a.state.isOrder})},a.onSumbitOrder=function(e){var t=a.props.match.params.id;e.patientId=t,se(e,function(e){a.props.history.push("/patient/".concat(t,"/printview/").concat(e.data.id))})},a.onBackPatientList=function(){a.props.history.push("/")},a.onPrintView=function(e,t){return function(){a.props.history.push("/patient/".concat(t,"/printview/").concat(e))}},a.onHasPfPhilhealth=function(e){return function(){var t=_.clone(a.state.activeRecord);t.pf_philhealth_has=e,ie(t,function(e){a.fetchPatientView()})}},a.onHasPf=function(e){return function(){var t=_.clone(a.state.activeRecord);t.pf_has=e,ie(t,function(e){a.fetchPatientView()})}},a}return Object(w.a)(t,e),Object(P.a)(t,[{key:"componentWillMount",value:function(){this.fetchPatientView()}},{key:"render",value:function(){var e,t,a=this,n=[{title:"Date",key:"dateOrder",width:200,fixed:"left",render:function(e,t){return i.a.createElement("span",null,H()(t.dateOrder).format("YYYY-MM-DD HH:mm a"))}},{title:"Order",key:"order",width:1200,render:function(e,t){return JSON.parse(t.order).orderArray.map(function(e,t){return i.a.createElement("pre",{key:t,style:{fontSize:16,whiteSpace:"pre-wrap"}},t+1,". ",e)})}},{title:"Action",key:"action",width:100,fixed:"right",render:function(e,t){return i.a.createElement("span",null,i.a.createElement(M.a,{onClick:a.onPrintView(t.id,a.props.match.params.id),type:"dashed"},"Print"))}}],r=this.state.activeRecord,o=r.name,c=r.address,l=r.birthdate,s=r.contact_number,u=r.Orders,h=r.weight,d=r.fee,m=r.pf,p=(r.pf_philhealth,r.pf_has),f=r.pf_philhealth_has,E=H.a.duration(H()().diff(l));return e=p?i.a.createElement(M.a,{onClick:this.onHasPf(!1),style:{backgroundColor:"#87d068",color:"white",width:"50%"}}," PAID"):i.a.createElement(M.a,{onClick:this.onHasPf(!0),style:{backgroundColor:"#f50",color:"white",width:"50%"}}," NOT PAID"),t=f?i.a.createElement(M.a,{onClick:this.onHasPfPhilhealth(!1),style:{backgroundColor:"#87d068",color:"white",width:"50%"}}," PAID"):i.a.createElement(M.a,{onClick:this.onHasPfPhilhealth(!0),style:{backgroundColor:"#f50",color:"white",width:"50%"}}," NOT PAID"),i.a.createElement(L.a,null,i.a.createElement(M.a,{type:"dashed",onClick:this.onBackPatientList},"Got Back Patient List"),i.a.createElement(A.a,{type:"flex",justify:"start"},i.a.createElement(T.a,{span:12},i.a.createElement("h1",{style:{marginBottom:5}},o),i.a.createElement("h3",null,function(e){var t=e.years(),a=e.months(),n=e.days(),i="";return 1===t?i+="one year ":t>1&&(i+=t+" years "),1===a?i+="one month ":a>1&&(i+=a+" months "),1===n?i+="one day ":n>1&&(i+=n+" days "),i}(E)," old"),i.a.createElement("h3",null,c),i.a.createElement("h3",null,s),i.a.createElement("h3",null,"Weight: ",h)),i.a.createElement(T.a,{span:12},i.a.createElement(L.a,null,i.a.createElement("h1",null,"Professional Fee"),d?i.a.createElement("div",null,i.a.createElement(R.a,{type:"horizontal"}),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},i.a.createElement("h3",null,"PF: \u20b1",m),e),i.a.createElement(R.a,{type:"horizontal"}),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},i.a.createElement("h3",null,"PF PHILHEALTH: \u20b1",m," "),t)):i.a.createElement("h3",null,"No Fee")))),i.a.createElement(A.a,null,i.a.createElement(T.a,{style:{textAlign:"left",marginBottom:10},span:4},i.a.createElement(M.a,{onClick:this.onNewOrderView,block:!0,size:"large",type:this.state.isOrder?"danger":"primary"},this.state.isOrder?"View Order":"New Order"))),this.state.isOrder?i.a.createElement(Ae,Object.assign({onSumbitOrder:this.onSumbitOrder},this.props,{patientBasicInfo:this.state.activeRecord})):i.a.createElement(N.a,{scroll:{x:1500,y:600},columns:n,dataSource:u||[]}))}}]),t}(i.a.Component),De=Object(W.a)(Te),Ie=a(92),_e=a(451),Ne=F.a.Item,We=he.a.Option,Be=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(S.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(i)))).onSumbitVal=function(){var e=a.props.activeRecord.name;_.isEmpty(e)?j.a.error({title:"Please Fill up Medicine name",content:"Error"}):a.props.onSubmit("medicine")},a}return Object(w.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCloseModal;return i.a.createElement(j.a,{title:this.props.activeRecord.id?"Edit Medicine":"New Medicine",visible:a,onCancel:n,footer:[i.a.createElement(M.a,{key:"back",onClick:n},"Return"),i.a.createElement(M.a,{key:"submit",type:"primary",onClick:this.onSumbitVal},"Submit")]},i.a.createElement(F.a,{layout:"horizontal"},i.a.createElement(Ne,{label:"Name"},i.a.createElement(D.a,{value:this.props.activeRecord.name,onChange:function(t){return e.props.handleChange("name",t.target.value)}})),i.a.createElement(Ne,{label:"Brand Name"},i.a.createElement(D.a,{value:this.props.activeRecord.brandname,onChange:function(t){return e.props.handleChange("brandname",t.target.value)}})),i.a.createElement(Ne,{label:"Form/Unit"},i.a.createElement(he.a,{value:this.props.activeRecord.form_unit||"",showSearch:!0,onChange:function(t){return e.props.handleChange("form_unit",t)}},pe.map(function(e){return i.a.createElement(We,{key:e,value:e},e)}))),i.a.createElement(Ne,{label:"Dispense"},i.a.createElement(D.a,{value:this.props.activeRecord.dispense,onChange:function(t){return e.props.handleChange("dispense",t.target.value)}})),i.a.createElement(Ne,{label:"Take"},i.a.createElement(D.a,{value:this.props.activeRecord.take,onChange:function(t){return e.props.handleChange("take",t.target.value)}})),i.a.createElement(Ne,{label:"SIG"},i.a.createElement(D.a,{value:this.props.activeRecord.sig,onChange:function(t){return e.props.handleChange("sig",t.target.value)}}))))}}]),t}(i.a.Component),He=F.a.Item,xe=D.a.TextArea,ze=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(S.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(i)))).onSumbitVal=function(){var e=a.props.activeRecord.name;_.isEmpty(e)?j.a.error({title:"Please Fill up Template name",content:"Error"}):a.props.onSubmit("template")},a}return Object(w.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCloseModal;return i.a.createElement(j.a,{title:this.props.activeRecord.id?"Edit Template":"New Template",visible:a,onCancel:n,footer:[i.a.createElement(M.a,{key:"back",onClick:n},"Return"),i.a.createElement(M.a,{key:"submit",type:"primary",onClick:this.onSumbitVal},"Submit")]},i.a.createElement(F.a,{layout:"horizontal"},i.a.createElement(He,{label:"Name"},i.a.createElement(D.a,{value:this.props.activeRecord.name,onChange:function(t){return e.props.handleChange("name",t.target.value)}})),i.a.createElement(He,{label:"Order"},i.a.createElement(xe,{rows:20,value:this.props.activeRecord.data,onChange:function(t){return e.props.handleChange("data",t.target.value)}}))))}}]),t}(i.a.Component),Ye=_e.a.TabPane,Ve=j.a.confirm,Fe=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(S.a)(this,Object(k.a)(t).call(this,e))).fetchMedicineList=function(){be(function(e){a.setState({medicineList:e.data||[],activeRecord:{},isSettingsModal:!1,isTemplateModal:!1})})},a.fetchTemplateList=function(){Oe(function(e){a.setState({templateList:e.data||[],activeRecord:{},isSettingsModal:!1,isTemplateModal:!1})})},a.onPatientList=function(e){a.props.history.push("/")},a.onCloseModal=function(e){return function(){a.setState(Object(C.a)({},e,!1))}},a.onOpenModal=function(e){return function(){var t;a.setState((t={},Object(C.a)(t,e,!0),Object(C.a)(t,"activeRecord",{}),t))}},a.handleChange=function(e,t){var n=Object(C.a)({},e,t),i=z()(a.state.activeRecord,{$merge:n});a.setState({activeRecord:i})},a.onHandleEdit=function(e,t){return function(){a.setState(Object(C.a)({activeRecord:Object(d.a)({},e)},t,!0))}},a.onHandleDelete=function(e,t){return function(){var n=Object(Ie.a)(Object(Ie.a)(a));Ve({title:"Do you Want to delete these items?",content:e.name,onOk:function(){"medicine"===t&&Ce(e.id,function(){n.fetchMedicineList()}),"template"===t&&Se(e.id,function(){n.fetchTemplateList()})},onCancel:function(){console.log("Cancel")}})}},a.onSubmit=function(e){if("medicine"===e){var t=a.state.activeRecord;ye(t,function(e){a.fetchMedicineList()})}if("template"===e){var n=a.state.activeRecord;Pe(n,function(e){a.fetchTemplateList()})}},a.state={isSettingsModal:!1,isTemplateModal:!1,activeRecord:{},medicineList:[],templateList:[]},a}return Object(w.a)(t,e),Object(P.a)(t,[{key:"componentWillMount",value:function(){this.fetchMedicineList(),this.fetchTemplateList()}},{key:"render",value:function(){var e=this,t=this.state.medicineList.map(function(e,t){return e.key=t,e}),a=[{title:"Medicine",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(t,a){return i.a.createElement("span",null,i.a.createElement("a",{onClick:e.onHandleEdit(a,"isSettingsModal")},"Edit"),i.a.createElement(R.a,{type:"vertical"}),i.a.createElement("a",{onClick:e.onHandleDelete(a,"medicine")},"Delete"))}}];this.state.templateList.map(function(e,t){return e.key=t,e});return i.a.createElement(L.a,{title:i.a.createElement("div",null,i.a.createElement(M.a,{onClick:this.onPatientList},"Back to Patient"),i.a.createElement("h1",null,"Settings"))},i.a.createElement(_e.a,{type:"card",defaultActiveKey:"1"},i.a.createElement(Ye,{tab:"Medicine",key:"1"},i.a.createElement(M.a,{onClick:this.onOpenModal("isSettingsModal"),type:"primary"},"New Medicine"),i.a.createElement("br",null),i.a.createElement(N.a,{columns:a,dataSource:t}))),this.state.isSettingsModal?i.a.createElement(Be,Object.assign({onSubmit:this.onSubmit,visible:this.state.isSettingsModal,onCloseModal:this.onCloseModal("isSettingsModal"),handleChange:this.handleChange},this.state)):null,this.state.isTemplateModal?i.a.createElement(ze,Object.assign({onSubmit:this.onSubmit,visible:this.state.isTemplateModal,onCloseModal:this.onCloseModal("isTemplateModal"),handleChange:this.handleChange},this.state)):null)}}]),t}(i.a.Component),Ue=Object(W.a)(Fe),Je=a(155),Ge=a.n(Je),$e=function(e){function t(){return Object(O.a)(this,t),Object(S.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e,t=this.props.patientInfo,a=t.name,n=t.address,r=t.birthdate,o=(t.contact_number,t.weight),c=this.props.orderInfo.order;c&&(e=JSON.parse(c).orderArray.map(function(e,t){return i.a.createElement("pre",{key:t,style:{fontSize:12,marginBottom:0,fontWeight:"bold",whiteSpace:"pre-wrap"}},t+1,". ",e)}));var l=H.a.duration(H()().diff(r));return i.a.createElement("div",null,i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("img",{src:we.a,style:{position:"absolute",width:480,height:680,left:0,right:0}}),i.a.createElement("div",{style:{marginLeft:25,marginTop:170,position:"absolute",width:480}},i.a.createElement(A.a,null,i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:11,marginBottom:0,fontWeight:"bold"}},"Patient: ",a)),i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:11,fontWeight:"bold",textAlign:"left",marginBottom:0}},"Age: ",function(e){var t=e.years(),a=e.months(),n=e.days(),i="";return 1===t?i+="one year ":t>1&&(i+=t+" years "),1===a?i+="one month ":a>1&&(i+=a+" months "),1===n?i+="one day ":n>1&&(i+=n+" days "),i}(l)))),i.a.createElement(A.a,null,i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:11,fontWeight:"bold",marginBottom:0}},"Address: ",n)),i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:11,fontWeight:"bold",textAlign:"left",marginBottom:0}},"Date: ",H()().format("YYYY-MM-DD"))),i.a.createElement(T.a,{span:12}),i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:11,fontWeight:"bold"}},"Weight: ",o))),i.a.createElement("div",{style:{marginTop:40,width:400,marginLeft:30}},i.a.createElement(A.a,null,i.a.createElement(T.a,{span:24},e))))))}}]),t}(i.a.Component),Qe=function(e){function t(){return Object(O.a)(this,t),Object(S.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e,t=this.props.patientInfo,a=t.name,n=t.address,r=t.birthdate,o=(t.contact_number,t.weight),c=this.props.orderInfo.order;c&&(e=JSON.parse(c).orderArray.map(function(e,t){return i.a.createElement("pre",{key:t,style:{fontSize:12,marginBottom:0,fontWeight:"bold",whiteSpace:"pre-wrap"}},t+1,". ",e)}));var l=H.a.duration(H()().diff(r));return i.a.createElement("div",null,i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("div",{style:{marginLeft:25,marginTop:170,position:"absolute",width:480}},i.a.createElement(A.a,null,i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:11,marginBottom:0,fontWeight:"bold"}},"Patient: ",a)),i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:11,fontWeight:"bold",textAlign:"left",marginBottom:0}},"Age: ",function(e){var t=e.years(),a=e.months(),n=e.days(),i="";return 1===t?i+="one year ":t>1&&(i+=t+" years "),1===a?i+="one month ":a>1&&(i+=a+" months "),1===n?i+="one day ":n>1&&(i+=n+" days "),i}(l)))),i.a.createElement(A.a,null,i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:11,fontWeight:"bold",marginBottom:0}},"Address: ",n)),i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:11,fontWeight:"bold",textAlign:"left",marginBottom:0}},"Date: ",H()().format("YYYY-MM-DD"))),i.a.createElement(T.a,{span:12}),i.a.createElement(T.a,{span:12},i.a.createElement("p",{style:{fontSize:11,fontWeight:"bold"}},"Weight: ",o))),i.a.createElement("div",{style:{marginTop:40,width:400,marginLeft:30}},i.a.createElement(A.a,null,i.a.createElement(T.a,{span:24},e))))))}}]),t}(i.a.Component),qe=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(S.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(i)))).state={patientInfo:{},orderInfo:{}},a.fetchPatientView=function(){var e=a.props.match.params.id;ae(e,function(e){a.setState({patientInfo:Object(d.a)({},e.data[0])})})},a.fetchOrderView=function(){var e=a.props.match.params.orderId;ue(e,function(e){a.setState({orderInfo:Object(d.a)({},e.data[0])})})},a.onBack=function(){a.props.history.goBack()},a}return Object(w.a)(t,e),Object(P.a)(t,[{key:"componentWillMount",value:function(){this.fetchPatientView(),this.fetchOrderView()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(M.a,{onClick:this.onBack},"Go Back"),i.a.createElement(Ge.a,{trigger:function(){return i.a.createElement("a",null,i.a.createElement(M.a,{type:"primary"},"Print with background!"))},content:function(){return e.componentRef}}),i.a.createElement(Ge.a,{trigger:function(){return i.a.createElement("a",null,i.a.createElement(M.a,{type:"primary"},"Print with no backround!"))},content:function(){return e.componentRefnoColor}}),i.a.createElement($e,Object.assign({},this.state,{ref:function(t){return e.componentRef=t}})),i.a.createElement(Qe,Object.assign({},this.state,{ref:function(t){return e.componentRefnoColor=t}})))}}]),t}(i.a.Component),Ke=function(){return i.a.createElement("div",{style:{padding:20}},i.a.createElement("main",null,i.a.createElement(b.a,null,i.a.createElement(y.a,{exact:!0,path:"/",component:le}),i.a.createElement(y.a,{exact:!0,path:"/patient/:id",component:De}),i.a.createElement(y.a,{exact:!0,path:"/patient/:id/printview/:orderId",component:qe}),i.a.createElement(y.a,{exact:!0,path:"/settings",component:Ue}))))},Xe=(a(444),a(446),a(448),document.querySelector("#root"));Object(r.render)(i.a.createElement(o.Provider,{store:v},i.a.createElement(c.ConnectedRouter,{history:f},i.a.createElement("div",null,i.a.createElement(Ke,null)))),Xe)}},[[227,2,1]]]);
//# sourceMappingURL=main.d2e463e9.chunk.js.map